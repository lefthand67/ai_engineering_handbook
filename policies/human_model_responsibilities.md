## Шаблон разделения ответственности в LLM-системах

> Владелец: Вадим Рудаков, lefthand67@gmail.com

Шаблон для разделения ответственности между человеком и моделью на разных этапах создания и эксплуатации LLM-системы. Его можно адаптировать под конкретный проект и использовать в рамках внутренней разработки для структурирования ролей.

**Как использовать шаблон**

- Для каждой зоны ответственности внутри команды назначаются конкретные роли и обязанности.  
- Все решения по изменению конфигураций и промптов проходят через инженерные и продуктовые проверки.  
- В критических областях (например, безопасность, обработка ошибок) должны быть чёткие процедуры эскалации.  
- Обновления и мониторинг ведутся циклично с отчётностью и анализом отклонений.


| Этап / Зона ответственности            | Модель (LLM)                                      | Человек (Инженер, Оператор, Пользователь)         |
|---------------------------------------|-------------------------------------------------|--------------------------------------------------|
| **Постановка задачи и проектирование**| ---                                             | Формулирует цели, определяет бизнес-требования и ограничения. Проектирует архитектуру и зоны взаимодействия модели. |
| **Разработка промптов и гиперпараметров** | Генерирует ответы согласно заданным промптам и параметрам. | Создаёт, тестирует и оптимизирует промпты, настраивает параметры вызова. Оценивает соответствие ответов задаче. |
| **Обработка и предварительная проверка данных** | Проводит предварительный анализ, если встроена соответствующая логика или Retrieval-слой. | Предоставляет и валидирует входные данные, интегрирует внешние источники. Настраивает фильтры качества данных. |
| **Генерация и вывод результатов**     | Создаёт вероятностные варианты ответов на основе заданного контекста. | Оценивает, фильтрует и интерпретирует результаты. При необходимости инициирует повторный запрос или коррекцию. |
| **Валидация и контроль качества**     | Обеспечивает вариативность и креативность, но не гарантирует абсолютную точность. | Разрабатывает тесты, собирает метрики, анализирует и лечит ошибки, принимает окончательное решение о пригодности. |
| **Обработка ошибок и исключительных ситуаций** | Автоматически уведомляет о проблемах, если предусмотрено, и пытается выполнить fallback. | Реагирует на сбои, анализирует причины, корректирует систему, обновляет промпты и логику. |
| **Мониторинг и логирование**           | Логирует внутренние состояния и ответы, если встроено. | Организует систему мониторинга, аудит логов, метрики производительности и качества. Принимает меры по оптимизации. |
| **Обновление модели и инфраструктуры**| Автоматически не обновляется без внешнего контроля. | Планирует и выполняет обновления моделей, инфраструктуры, проводит повторное тестирование и валидацию. |
| **Эксплуатация и безопасность**       | Генерирует контент в рамках заданных ограничений. | Контролирует соблюдение этических и регуляторных норм, внедряет фильтры, обеспечивает защиту от нежелательного контента. |
| **Пользовательский интерфейс и опыт** | Предоставляет вариативный и адаптивный контент. | Проектирует UI/UX, обучает пользователей, обеспечивает прозрачное разграничение функций модели и пользователя. |
